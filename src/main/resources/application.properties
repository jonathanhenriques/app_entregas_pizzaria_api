spring.application.name=app_entrega_pizza_api

# --- BANCO DE DADOS (H2 Em Memória) ---
spring.datasource.url=jdbc:h2:mem:pizzadb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Habilita o console do H2 no navegador
spring.h2.console.enabled=true

# --- HIBERNATE (Cria as tabelas automaticamente) ---
spring.jpa.hibernate.ddl-auto=update

# Executa o data.sql APÓS o Hibernate criar as tabelas (Essencial para não dar erro de tabela inexistente)
spring.jpa.defer-datasource-initialization=true

# --- CORREÇÃO DO ERRO (Desativa o Flyway) ---
spring.flyway.enabled=false

# SEGURANÇA JWT
# Tenta pegar da variável de ambiente JWT_SECRET. Se não achar, usa o valor após os dois pontos.
api.security.token.secret=${JWT_SECRET:minha-chave-secreta-super-dificil-dev}